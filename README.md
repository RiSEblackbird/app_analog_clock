## アナログ時計（app_analog_clock）

### 概要
**tkinter 製のシンプルなアナログ時計**。1秒ごとに針を更新し、ヘッダに現在日時をデジタル表示します。ライト/ダークのテーマ切替と、時刻帯に応じた自動テーマ（Auto）を備えています。ウィンドウ位置とサイズ倍率はファイルに永続化され、次回起動時に復元されます。

### 主な機能
- **アナログ時計表示**: 秒針/分針/時針を1秒ごとに更新
- **デジタル日時**: ヘッダに現在日時を表示
- **テーマ切替**: 「カラー変更」でライト/ダークを手動切替
- **自動テーマ（Auto）**: 18:30〜05:59 をダーク、06:00〜18:29 をライトに自動切替
- **サイズ変更**: 「サイズ変更」で倍率を順番に切替（1.0 → 1.5 → 2.0 → 2.5 → …）
- **ウィンドウ位置の保存/復元**: 終了時に位置を保存し、次回起動時に復元（ホストごとに記録）

### 画面と操作
- 上部ヘッダ
  - 現在日時（デジタル）
  - 「サイズ変更」ボタン: 窓サイズと時計サイズを拡縮（倍率は保存されます）
  - 「カラー変更」ボタン: テーマを手動で切替
  - 「Auto」チェック: 自動テーマ切替を有効/無効
- 中央: アナログ時計（目盛・数字・中心点）

### 技術仕様
- **言語/GUI**: Python 3.9+ / tkinter（標準ライブラリ）
- **OS**: Windows 10/11 推奨
- **更新間隔**: 1000ms（1秒）
- **タイトルバーのダークモード**: Windows API（`DwmSetWindowAttribute`）で可能な範囲で反映（未対応環境では自動で無視）

### 永続化されるファイル（本ディレクトリ内）
- `factor.txt`: サイズ倍率（1 / 1.5 / 2 / 2.5 など）
- `window_position_app_analog_clock.csv`: ウィンドウ位置（ホスト名と位置の組を保存、UTF-8 BOM）

### 起動方法
1. 作業ディレクトリを本フォルダに移動（相対パスの設定ファイルを本フォルダに作成するため）
2. スクリプトを実行

```bat
cd app_analog_clock
python app_analog_clock.py
```

PowerShell の例:
```powershell
Set-Location app_analog_clock
python .\app_analog_clock.py
```

### 設定/カスタマイズ（任意）
- コード内の定数で調整可能
  - `AUTO_CHECK_INTERVAL_MS`: 自動テーマのチェック間隔（既定: 60000ms）
  - `UPDATE_INTERVAL`: 時計更新間隔（既定: 1000ms）
  - `get_theme_colors()`: テーマごとの色
- 自動テーマ判定: `is_dark_time()`（18:30〜05:59 をダーク）

### 注意点/既知の制約
- タイトルバーのダークモードは Windows の対応状況に依存し、未対応環境では反映されません。
- `factor.txt` と `window_position_app_analog_clock.csv` はカレントディレクトリに作成されるため、基本的に本フォルダで実行してください。
- マルチモニタ環境で位置が不正な場合は CSV を削除して再起動してください。


